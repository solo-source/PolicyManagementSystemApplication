<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>View Policies Dashboard</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <style>
        .custom-container { max-width: 70%; margin: auto; margin-top: 3rem; }
        .dashboard-card { cursor: pointer; transition: transform 0.2s; }
        .dashboard-card:hover { transform: scale(1.05); }
    </style>
</head>
<body>
<div class="container custom-container">
    <h2 class="text-center mb-4">View Policies Dashboard</h2>
    <div class="row row-cols-1 row-cols-md-2 g-4">
        <!-- Card: View by ID -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-id'">
                <div class="card-body">
                    <h5 class="card-title">View by ID</h5>
                    <p class="card-text">Search a policy by its ID.</p>
                </div>
            </div>
        </div>
        <!-- Card: View by Scheme -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-scheme'">
                <div class="card-body">
                    <h5 class="card-title">View by Scheme</h5>
                    <p class="card-text">List policies under a scheme.</p>
                </div>
            </div>
        </div>
        <!-- Card: View by Date -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-date'">
                <div class="card-body">
                    <h5 class="card-title">View by Date</h5>
                    <p class="card-text">Search policies by purchase date.</p>
                </div>
            </div>
        </div>
        <!-- Card: View by Premium Range -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-premium'">
                <div class="card-body">
                    <h5 class="card-title">View by Premium Range</h5>
                    <p class="card-text">List policies within a premium range.</p>
                </div>
            </div>
        </div>
        <!-- Card: View by Maturity Range -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-maturity'">
                <div class="card-body">
                    <h5 class="card-title">View by Maturity Range</h5>
                    <p class="card-text">List policies within a maturity range.</p>
                </div>
            </div>
        </div>
        <!-- Card: View by Number of Years -->
        <div class="col">
            <div class="card dashboard-card" onclick="location.href='/policy-management/view-by-years'">
                <div class="card-body">
                    <h5 class="card-title">View by Policy Term</h5>
                    <p class="card-text">List policies by Policy Term.</p>
                </div>
            </div>
        </div>
    </div>
	<!-- View Policy Bought by Customer Card -->
	<div class="col">
	    <div class="card dashboard-card" onclick="location.href='/policy-management/view-bought-dashboard'">
	        <div class="card-body">
	            <h5 class="card-title">View Policy Bought by Customer</h5>
	            <p class="card-text">Search bought policies by various criteria.</p>
	        </div>
	    </div>
	</div>
    <!-- Display search results if flash attribute 'policies' exists -->
    <div th:if="${policies != null}" class="mt-4">
        <h4>Search Results:</h4>
        <div class="table-responsive">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Policy ID</th>
                        <th>Start Date</th>
                        <th>Total Premium</th>
                        <th>Maturity Amount</th>
                        <th>No. of Years</th>
                        <th>Status</th>
                        <th>Annuity Term</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="p : ${policies}">
                        <td th:text="${p.id}"></td>
                        <td th:text="${p.policyId}"></td>
                        <td th:text="${p.startDate}"></td>
                        <td th:text="${p.totalPremiumAmount}"></td>
                        <td th:text="${p.maturityAmount}"></td>
                        <td th:text="${p.numberOfYears}"></td>
                        <td th:text="${p.policyStatus}"></td>
                        <td th:text="${p.annuityTerm}"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
    <a href="/policyDashboard" class="btn btn-secondary mt-3">Back to Main Dashboard</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
